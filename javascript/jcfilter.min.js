function jcOnPageFilter(test) {
    var a = jQuery.extend({
            animateHideNShow: false,
            focusOnLoad: false,
            highlightColor: "",
            textColorForHighlights: "#18ba60",
            caseSensitive: false,
            hideNegatives: false,
            parentLookupClass: "jcorgFilterTextParent",
            childBlockClass: "jcorgFilterTextChild"
        },
        a);
    jQuery.expr[":"].icontains = function(a, b, c) {
        return jQuery(a).text().toUpperCase().indexOf(c[3].toUpperCase()) >= 0
    };
    if (a.focusOnLoad) {
        jQuery(this).focus()
    }
    var b = /(<span.+?>)(.+?)(<\/span>)/g;
    var c = "g";
    if (!a.caseSensitive) {
        b = /(<span.+?>)(.+?)(<\/span>)/gi;
        c = "gi"
    }

                var e = test;
                if (e.length > 0) {
                    if (a.hideNegatives) {
                        if (a.animateHideNShow) {
                            jQuery("." + a.parentLookupClass).stop(true, true).fadeOut("slow")
                        } else {
                            jQuery("." + a.parentLookupClass).stop(true, true).hide()
                        }
                    }
                    var f = "icontains";
                    if (a.caseSensitive) {
                        f = "contains"
                    }
                    jQuery.each(jQuery("." + a.childBlockClass),
                        function(a, c) {
                            jQuery(c).html(jQuery(c).html().replace(new RegExp(b), "$2"))
                        });
                    jQuery.each(jQuery("." + a.childBlockClass + ":" + f + "(" + e + ")"),
                        function(b, d) {
                            if (a.hideNegatives) {
                                if (a.animateHideNShow) {
                                    jQuery(d).parent().stop(true, true).fadeIn("slow")
                                } else {
                                    jQuery(d).parent().stop(true, true).show()
                                }
                            }
                            var f = jQuery(d).html();
                            jQuery(d).html(f.replace(new RegExp(e, c),
                                function(b) {
                                    return ["<span style='background:" + a.highlightColor + ";color:" + a.textColorForHighlights + "'>", b, "</span>"].join("")
                                }))
                        })
                } else {
                    jQuery.each(jQuery("." + a.childBlockClass),
                        function(a, c) {
                            var d = jQuery(c).html().replace(new RegExp(b), "$2");
                            jQuery(c).html(d)
                        });
                    if (a.hideNegatives) {
                        if (a.animateHideNShow) {
                            jQuery("." + a.parentLookupClass).stop(true, true).fadeIn("slow")
                        } else {
                            jQuery("." + a.parentLookupClass).stop(true, true).show()
                        }
                    }
                }
}
